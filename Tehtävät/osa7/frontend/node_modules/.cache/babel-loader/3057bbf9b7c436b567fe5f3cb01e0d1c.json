{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Kullervo/Githubailua/Full_Stack-harjoitustyo/Tehta\\u0308va\\u0308t/osa7/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Kullervo/Githubailua/Full_Stack-harjoitustyo/Tehta\\u0308va\\u0308t/osa7/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nvar baseUrl = '/api/blogs';\nvar token = null;\n\nvar config = function config() {\n  return {\n    headers: {\n      'Authorization': token\n    }\n  };\n};\n\nvar getAll = function getAll() {\n  var request = axios.get(baseUrl);\n  return request.then(function (response) {\n    return response.data;\n  });\n};\n\nvar setToken = function setToken(newToken) {\n  token = \"bearer \".concat(newToken);\n};\n\nvar create =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(newObject) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.post(baseUrl, newObject, config());\n\n          case 2:\n            response = _context.sent;\n            return _context.abrupt(\"return\", response.data);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function create(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar update = function update(id, newObject) {\n  var request = axios.put(\"\".concat(baseUrl, \"/\").concat(id), newObject, config());\n  return request.then(function (response) {\n    return response.data;\n  });\n};\n\nvar remove = function remove(id) {\n  var request = axios.delete(\"\".concat(baseUrl, \"/\").concat(id), config());\n  return request.then(function (response) {\n    return response.data;\n  });\n};\n\nvar comment = function comment(id, _comment) {\n  var request = axios.push(\"\".concat(baseUrl, \"/\").concat(id, \"/comments\"), _comment);\n  return request.then(function (response) {\n    return response.data;\n  });\n};\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  remove: remove,\n  setToken: setToken,\n  comment: comment\n};","map":{"version":3,"sources":["/Users/Kullervo/Githubailua/Full_Stack-harjoitustyo/Tehtävät/osa7/frontend/src/services/blogs.js"],"names":["axios","baseUrl","token","config","headers","getAll","request","get","then","response","data","setToken","newToken","create","newObject","post","update","id","put","remove","delete","comment","push"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,OAAO,GAAG,YAAhB;AAEA,IAAIC,KAAK,GAAG,IAAZ;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,SAAO;AACLC,IAAAA,OAAO,EAAE;AAAE,uBAAiBF;AAAnB;AADJ,GAAP;AAGD,CAJD;;AAMA,IAAMG,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,MAAMC,OAAO,GAAGN,KAAK,CAACO,GAAN,CAAUN,OAAV,CAAhB;AACA,SAAOK,OAAO,CAACE,IAAR,CAAa,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GAArB,CAAP;AACD,CAHD;;AAKA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD,EAAc;AAC7BV,EAAAA,KAAK,oBAAaU,QAAb,CAAL;AACD,CAFD;;AAIA,IAAMC,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACUd,KAAK,CAACe,IAAN,CAAWd,OAAX,EAAoBa,SAApB,EAA+BX,MAAM,EAArC,CADV;;AAAA;AACPM,YAAAA,QADO;AAAA,6CAENA,QAAQ,CAACC,IAFH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANG,MAAM;AAAA;AAAA;AAAA,GAAZ;;AAKA,IAAMG,MAAM,GAAG,SAATA,MAAS,CAACC,EAAD,EAAKH,SAAL,EAAmB;AAChC,MAAMR,OAAO,GAAGN,KAAK,CAACkB,GAAN,WAAajB,OAAb,cAAwBgB,EAAxB,GAA8BH,SAA9B,EAAyCX,MAAM,EAA/C,CAAhB;AACA,SAAOG,OAAO,CAACE,IAAR,CAAa,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GAArB,CAAP;AACD,CAHD;;AAKA,IAAMS,MAAM,GAAG,SAATA,MAAS,CAACF,EAAD,EAAQ;AACrB,MAAMX,OAAO,GAAGN,KAAK,CAACoB,MAAN,WAAgBnB,OAAhB,cAA2BgB,EAA3B,GAAiCd,MAAM,EAAvC,CAAhB;AACA,SAAOG,OAAO,CAACE,IAAR,CAAa,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GAArB,CAAP;AACD,CAHD;;AAKA,IAAMW,OAAO,GAAG,iBAACJ,EAAD,EAAKI,QAAL,EAAiB;AAC/B,MAAMf,OAAO,GAAGN,KAAK,CAACsB,IAAN,WAAcrB,OAAd,cAAyBgB,EAAzB,gBAAwCI,QAAxC,CAAhB;AACA,SAAOf,OAAO,CAACE,IAAR,CAAa,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GAArB,CAAP;AACD,CAHD;;AAKA,eAAe;AAAEL,EAAAA,MAAM,EAANA,MAAF;AAAUQ,EAAAA,MAAM,EAANA,MAAV;AAAkBG,EAAAA,MAAM,EAANA,MAAlB;AAA0BG,EAAAA,MAAM,EAANA,MAA1B;AAAkCR,EAAAA,QAAQ,EAARA,QAAlC;AAA4CU,EAAAA,OAAO,EAAPA;AAA5C,CAAf","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst config = () => {\n  return {\n    headers: { 'Authorization': token }\n  }\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst create = async (newObject) => {\n  const response = await axios.post(baseUrl, newObject, config())\n  return response.data\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject, config())\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`, config())\n  return request.then(response => response.data)\n}\n\nconst comment = (id, comment) => {\n  const request = axios.push(`${baseUrl}/${id}/comments`, comment)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove, setToken, comment }"]},"metadata":{},"sourceType":"module"}